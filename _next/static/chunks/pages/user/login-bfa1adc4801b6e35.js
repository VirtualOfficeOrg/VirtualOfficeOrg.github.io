(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{6650:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return s(388)}])},7440:function(e,t,s){"use strict";s.d(t,{y:function(){return l}});var n=s(5893);function l(e){let{label:t,name:s,value:l,type:a="text",placeholder:r,required:c=!0,requiredIndicator:d=!1,disabled:i=!1,onChange:o=()=>{}}=e;return(0,n.jsxs)("label",{children:[(0,n.jsxs)("span",{className:"block mt-2 mb-1 text-sm text-secondary mt-5",children:[t," ",c&&d&&(0,n.jsx)("span",{className:"text-[#f00]",children:"*"})]}),(0,n.jsx)("input",{className:"w-full rounded-md text-primary bg-primary border-none text-sm",name:s,type:a,placeholder:r,required:c,disabled:i,value:l,onChange:e=>o(e.target.value)})]})}},388:function(e,t,s){"use strict";s.r(t);var n=s(5893),l=s(7294),a=s(6084),r=s(7440),c=s(1664),d=s.n(c),i=s(3868),o=s.n(i);let u=()=>{let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),[c,i]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{i(o()(e)&&s.length>4)},[e,s]);let m=t=>{t.preventDefault(),h(!0),fetch("https://itzakupki.ru/api/v1/auth/user/login/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}).then(e=>{console.log(e),console.log(e.headers.get("Set-Cookie"))}).catch(e=>{console.log(e)}).finally(()=>{h(!1)})};return(0,n.jsx)("div",{className:"grid h-screen place-items-center",children:(0,n.jsxs)("div",{className:"rounded-lg bg-secondary p-5 md:w-[600px]",children:[(0,n.jsx)("h2",{className:"text-2xl text-center",children:"Добро пожаловать"}),(0,n.jsx)("form",{onSubmit:m,method:"POST",children:(0,n.jsxs)("fieldset",{disabled:u,children:[(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"md:w-1/3 border-purple border-b-2 text-center p-2 mt-5",children:"Почта"})}),(0,n.jsx)(r.y,{label:"Адрес электронной почты",name:"email",type:"email",placeholder:"Указать",value:e,onChange:e=>t(e)}),(0,n.jsx)(r.y,{label:"Пароль",name:"password",type:"password",placeholder:"Указать",value:s,onChange:e=>a(e)}),(0,n.jsx)("p",{className:"text-sm text-secondary mt-5",children:(0,n.jsx)(d(),{href:"/user/restore",className:"text-blue",children:"Забыли пароль?"})}),(0,n.jsx)("button",{className:"p-2 bg-purple w-full text-sm rounded-full mt-5 disabled:bg-gray",disabled:!c,children:u?"Авторизация...":"Вход"}),(0,n.jsxs)("p",{className:"text-sm text-secondary  mt-5",children:["Организация отсутствует в системе?"," ",(0,n.jsx)(d(),{href:"/org/new/select",className:"text-blue",children:"Зарегистрировать"})]})]})})]})})};u.getLayout=function(e){return(0,n.jsx)(a.Z,{children:e})},t.default=u}},function(e){e.O(0,[61,23,774,888,179],function(){return e(e.s=6650)}),_N_E=e.O()}]);