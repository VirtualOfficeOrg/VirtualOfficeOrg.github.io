(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{6707:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/zakupki/edit",function(){return s(7035)}])},6084:function(e,t,s){"use strict";s.d(t,{Z:function(){return C}});var a=s(5893),n=s(5675),r=s.n(n),l={src:"/_next/static/media/logo.3c68f4bb.svg",height:19,width:25,blurWidth:0,blurHeight:0},i=s(1664),c=s.n(i);function d(e){return(0,a.jsx)("li",{className:"my-1",children:(0,a.jsxs)(c(),{href:e.link,className:"flex items-center p-4 transition-colors hover:bg-neutral hover:border-r-2",style:{borderColor:e.color},children:[(0,a.jsx)(r(),{src:e.icon,alt:e.text}),(0,a.jsx)("span",{className:"ml-4 leading-none",children:e.text})]})})}var o={src:"/_next/static/media/menu-home.5e852a09.svg",height:21,width:18,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/menu-instrumenty.128826fc.svg",height:21,width:21,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/menu-kontragenty.559db802.svg",height:17,width:22,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/menu-planirovanie.a3936bd8.svg",height:20,width:20,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/menu-reestr-dogovorov.a1effae2.svg",height:20,width:19,blurWidth:0,blurHeight:0},j={src:"/_next/static/media/menu-reestr-zadach.e8612233.svg",height:20,width:20,blurWidth:0,blurHeight:0},b={src:"/_next/static/media/menu-reestr-zakupok.0c5a1a8b.svg",height:18,width:20,blurWidth:0,blurHeight:0},p={src:"/_next/static/media/menu-settings.303cdc6f.svg",height:20,width:20,blurWidth:0,blurHeight:0},g={src:"/_next/static/media/menu-spravochniki.08a9c54e.svg",height:19,width:22,blurWidth:0,blurHeight:0},f={src:"/_next/static/media/menu-zhaloby-fas.72dea1b6.svg",height:21,width:20,blurWidth:0,blurHeight:0},N={src:"/_next/static/media/menu-moi-zakupki.3ad1fa6c.svg",height:19,width:20,blurWidth:0,blurHeight:0};function y(){return(0,a.jsx)("hr",{className:"bg-neutral border-none h-px mx-5 my-2"})}function v(){return(0,a.jsxs)("ul",{children:[(0,a.jsx)(d,{text:"Главная страница",icon:o,color:"#FFF",link:"/"}),(0,a.jsx)(d,{text:"Мои закупки",icon:N,color:"#9D0A51",link:"/zakupki"}),(0,a.jsx)(d,{text:"Планирование",icon:h,color:"#FFFFFF",link:"/"}),(0,a.jsx)(d,{text:"Реестр закупок",icon:b,color:"#8B43FA",link:"/"}),(0,a.jsx)(d,{text:"Реестр договоров",icon:u,color:"#FFFFFF",link:"/"}),(0,a.jsx)(d,{text:"Реест задач",icon:j,color:"#FFFFFF",link:"/"}),(0,a.jsx)(d,{text:"Жалобы ФАС",icon:f,color:"#FFF",link:"/"}),(0,a.jsx)(d,{text:"Контрагенты",icon:x,color:"#FFFFFF",link:"/"}),(0,a.jsx)(y,{}),(0,a.jsx)(d,{text:"Справочники",icon:g,color:"#FFFFFF",link:"/"}),(0,a.jsx)(d,{text:"Инструменты",icon:m,color:"#FFFFFF",link:"/"}),(0,a.jsx)(y,{}),(0,a.jsx)(d,{text:"Настройки",icon:p,color:"#FFFFFF",link:"/"})]})}function _(){return(0,a.jsxs)("nav",{className:"sidebar fixed left-0 top-0 w-60 h-screen bg-secondary overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center p-4",children:[(0,a.jsx)(r(),{src:l,alt:"Логотип"}),(0,a.jsxs)("span",{className:"ml-4 text-lg leading-none",children:["VIRTUAL",(0,a.jsx)("br",{}),"OFFICE"]})]}),(0,a.jsx)(y,{}),(0,a.jsx)(v,{})]})}var w={src:"/_next/static/media/top_menu_profile.e21c6edf.svg",height:16,width:16,blurWidth:0,blurHeight:0},k={src:"/_next/static/media/top_menu_settings.7aead6f4.svg",height:16,width:15,blurWidth:0,blurHeight:0};function F(){return(0,a.jsxs)("div",{className:"flex justify-end p-5",children:[(0,a.jsx)("div",{className:"uppercase mr-5",children:"Иванов И. И."}),(0,a.jsx)("div",{className:"uppercase mr-5",children:"АО Северная Компания"}),(0,a.jsx)(r(),{src:k,alt:"Настройки",className:"mr-5"}),(0,a.jsx)(r(),{src:w,alt:"Профиль"})]})}function C(e){let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_,{}),(0,a.jsxs)("main",{className:"!pl-[240px]",children:[(0,a.jsx)(F,{}),t]})]})}},7035:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var a=s(5893),n=s(7294);function r(e){let{title:t,children:s}=e;return(0,a.jsxs)("div",{className:"rounded-lg bg-secondary p-5 mb-5",children:[(0,a.jsx)("h2",{className:"text-lg",children:t}),s]})}var l=s(5152),i=s.n(l),c=s(6429),d=s(8017),o=s(7333);function m(e){let{name:t,value:s,className:n="",disabled:r=!1,onChange:l=()=>{}}=e;return(0,a.jsx)(o.h3,{name:t,value:s,className:"rounded-md text-primary text-sm w-full bg-primary border-dark disabled:bg-transparent disabled:border-slate "+n,allowNegative:!1,decimalScale:2,fixedDecimalScale:!0,decimalSeparator:",",thousandSeparator:" ",placeholder:"0,00",disabled:r,onValueChange:e=>l(e.floatValue)})}let x=i()(()=>s.e(811).then(s.bind(s,5811)),{loadableGenerated:{webpack:()=>[5811]},ssr:!1});function h(e){let{index:t,onAmountChange:s,onDeleteClick:n}=e,r=[{value:"000P200000",label:'000P200000  Федеральный проект "Содействие занятости"'},{value:"000N400000",label:'000N400000  Федеральный проект "Развитие детского здравоохранения, включая создание современной инфраструктуры оказания медицинской помощи детям"'},{value:"000P300000",label:'000P300000  Федеральный проект "Старшее поколение"'},{value:"000N400000",label:'000N400000  Федеральный проект "Развитие детского здравоохранения, включая создание современной инфраструктуры оказания медицинской помощи детям"'}],l={clearIndicator:()=>"",container:()=>"w-full",control:()=>"border-dark bg-primary min-h-0 rounded-md",dropdownIndicator:()=>"min-h-0 py-0",group:()=>"",groupHeading:()=>"",indicatorsContainer:()=>"",indicatorSeparator:()=>"hidden",input:()=>"text-primary",loadingIndicator:()=>"",loadingMessage:()=>"",menu:()=>"bg-primary",menuList:()=>"",menuPortal:()=>"",multiValue:()=>"",multiValueLabel:()=>"",multiValueRemove:()=>"",noOptionsMessage:()=>"hidden",option:()=>"bg-primary hover:bg-stale text-sm cursor-pointer",placeholder:()=>"",singleValue:()=>"text-primary",valueContainer:()=>"text-sm py-1"},i=e=>fetch("http://10.8.0.1:8001/okpd2/"+e).catch(e=>console.log(e)).then(e=>(console.log(e),r));return(0,a.jsxs)("tr",{className:"bg-tableRow",children:[(0,a.jsx)("td",{className:"text-center pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("td",{className:"text-center",children:t+1}),(0,a.jsx)("td",{children:(0,a.jsx)(x,{children:(0,a.jsx)(c.Z,{name:"finance_table_row_code_"+t,classNames:l,loadOptions:i,placeholder:"Выбрать код целевой статьи расходов"})})}),(0,a.jsx)("td",{children:(0,a.jsx)(x,{children:(0,a.jsx)(c.Z,{name:"finance_table_row_kvr_"+t,classNames:l,loadOptions:i,placeholder:"Выбрать код вида расходов (КВР)"})})}),(0,a.jsx)("td",{children:(0,a.jsx)(m,{name:"finance_table_row_amount_"+t,className:"finance_table_row_input text-right",onChange:s})}),(0,a.jsx)("td",{className:"pr-3",children:(0,a.jsx)(d.Z,{className:"h-3 w-3",onClick:e=>n(t)})})]})}function u(e){let{onSumChange:t}=e,[s,r]=(0,n.useState)([j()]);function l(){r([...s,j()])}return(0,n.useEffect)(()=>{t()}),(0,a.jsxs)("table",{className:"w-full table-auto mt-5 text-sm",cellPadding:5,children:[(0,a.jsxs)("thead",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"bg-tableHeader rounded-tl-md py-2 pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("th",{className:"bg-tableHeader font-normal rounded-tr-md text-left",colSpan:5,children:(0,a.jsx)("span",{className:"py-1 px-1 cursor-pointer",onClick:l,children:"+"})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-fit"}),(0,a.jsx)("th",{className:"w-fit font-normal text-xs",children:"№"}),(0,a.jsx)("th",{className:"w-5/12 font-normal",children:"Код целевой статьи расходов"}),(0,a.jsx)("th",{className:"w-5/12 font-normal",children:"Код вида расходов (КВР)"}),(0,a.jsx)("th",{className:"w-2/12 font-normal",children:"Объем финансового обеспечения (руб.)"}),(0,a.jsx)("th",{className:"w-fit"})]})]}),(0,a.jsx)("tbody",{children:s.map((e,n)=>(0,a.jsx)(h,{index:n,onAmountChange:t,onDeleteClick:()=>{r(s.filter(t=>t!==e))}},e))}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"bg-tableHeader rounded-bl-md py-2 pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("th",{className:"bg-tableHeader font-normal rounded-br-md text-left",colSpan:5,children:(0,a.jsxs)("button",{type:"button",className:"bg-grayish hover:bg-slate px-3 py-1 rounded-full leading-none",onClick:l,children:["+ ",(0,a.jsx)("span",{className:"text-xs",children:"Добавить позицию"})]})})]})})]})}function j(){return Date.now()}function b(){let[e,t]=(0,n.useState)("no"),[s,l]=(0,n.useState)("0,00");return(0,a.jsxs)(r,{title:"Информация о финансировании за счет бюджетных средств",children:[(0,a.jsxs)("div",{className:"mt-2 md:flex md:flex-wrap",children:[(0,a.jsxs)("div",{className:"md:mr-5",children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary",children:"Наличие бюджетных средств"}),(0,a.jsxs)("select",{name:"budget_funds",className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[220px]",onChange:e=>t(e.target.value),value:e,children:[(0,a.jsx)("option",{value:"yes",children:"Да"}),(0,a.jsx)("option",{value:"no",children:"Нет"})]})]}),"yes"==e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-sm mb-1 text-secondary",children:"Объем бюджетных средств"}),(0,a.jsx)(m,{name:"budget_value",disabled:!0})]})]}),"yes"==e&&(0,a.jsx)(u,{onSumChange:()=>{let e=document.getElementsByClassName("finance_table_row_input"),t=0;for(let s=0;s<e.length;s++){let a=e[s].value;if(null!==a&&""!==a){let e=-1===a.indexOf(",");a=a.replace(",",""),e&&(a+="00"),t+=Number(a)}}l((t/100).toFixed(2).replace(".",","))}})]})}function p(e){let{value:t,onChange:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary",children:"Вылюта договора"}),(0,a.jsxs)("select",{name:"basic_info_currency",className:"rounded-md text-primary bg-primary border-dark text-sm",onChange:e=>s(e.target.value),value:t,children:[(0,a.jsx)("option",{value:"rub",children:"Российский рубль"}),(0,a.jsx)("option",{value:"usd",children:"Доллары"})]})]})}function g(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"block text-sm mb-1 text-secondary",children:"Дата курса валюты"}),(0,a.jsx)("input",{name:"basic_info_currency_conversion_date",type:"date",className:"rounded-md text-primary bg-primary border-dark text-sm",style:{colorScheme:"dark"},defaultValue:function(){let e=new Date,t=e.getMonth()+1,s=e.getDate();function a(e){return(e<10?"0":"")+e}return e.getFullYear()+"-"+a(t)+"-"+a(s)}()})]})}function f(e){let{onChange:t=()=>{}}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"block text-sm mb-1 text-secondary",children:"Курс валюты"}),(0,a.jsx)(m,{name:"",onChange:t})]})}function N(){let[e,t]=(0,n.useState)("rub");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-2 md:mr-5",children:(0,a.jsx)(p,{value:e,onChange:t})}),"rub"!=e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-2 md:mr-5",children:(0,a.jsx)(g,{})}),(0,a.jsx)("div",{className:"mt-2 md:mr-5",children:(0,a.jsx)(f,{})}),(0,a.jsxs)("div",{className:"mt-2 md:mr-5",children:[(0,a.jsx)("span",{className:"block text-sm mb-1 text-secondary",children:"Сведения о НМЦД (в руб.)"}),(0,a.jsx)(m,{name:"basic_info_currency_conversion_ncmd",disabled:!0})]})]})]})}function y(e){let{basicInfo:t}=e;return(0,a.jsxs)(r,{title:"Информация о предмете договора",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"block mt-2 mb-2 text-sm text-secondary",children:"Наименование предмета договора"}),(0,a.jsx)("textarea",{name:"basic_info_name",className:"w-full rounded-md text-primary bg-primary border-none text-sm",maxLength:2e3,rows:3,defaultValue:t.name})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"block mt-2 mb-2 text-sm text-secondary",children:"Минимально необходимые требования, предъявляемые к закупаемым товарам,работам,услугам"}),(0,a.jsx)("textarea",{name:"basic_info_min_requirements",className:"w-full rounded-md text-primary bg-primary border-none text-sm",maxLength:2e3,rows:3,defaultValue:t.min_requirements})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"block mt-2 mb-1 text-sm text-secondary",children:"Обоснование начальной (максимальной) цены договора"}),(0,a.jsx)("textarea",{name:"basic_info_max_price_explanation",className:"w-full rounded-md text-primary bg-primary border-none text-sm",maxLength:2e3,rows:3,defaultValue:t.max_price_reason})]}),(0,a.jsxs)("div",{className:"md:flex md:flex-wrap",children:[(0,a.jsxs)("div",{className:"mt-2 md:mr-5",children:[(0,a.jsx)("span",{className:"block text-sm mb-1 text-secondary",children:"Сведения о НМЦД"}),(0,a.jsx)(m,{name:"basic_info_nmcd",value:t.nmcd})]}),(0,a.jsx)(N,{}),(0,a.jsxs)("div",{className:"mt-2 md:mr-5",children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary",children:"НМЦД включает НДС"}),(0,a.jsxs)("select",{name:"basic_info_nmcd_with_tax",className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[184px]",children:[(0,a.jsx)("option",{value:"yes",children:"Да"}),(0,a.jsx)("option",{value:"no",children:"Нет"})]})]})]})]})}var v=s(6084),_=s(9008),w=s.n(_);let k=new Date().getFullYear()-1,F=[(0,a.jsx)("option",{hidden:!0,children:"Год"},"-2"),(0,a.jsx)("option",{disabled:!0,children:"Год"},"-1"),...Array.from({length:100},(e,t)=>{let s=k+t;return(0,a.jsx)("option",{value:s,children:s},s)})],C=[(0,a.jsx)("option",{hidden:!0,children:"Месяц"},"-2"),(0,a.jsx)("option",{disabled:!0,children:"Месяц"},"-1"),(0,a.jsx)("option",{value:"01",children:"Январь"},"01"),(0,a.jsx)("option",{value:"02",children:"Февраль"},"02"),(0,a.jsx)("option",{value:"03",children:"Март"},"03"),(0,a.jsx)("option",{value:"04",children:"Апрель"},"04"),(0,a.jsx)("option",{value:"05",children:"Май"},"05"),(0,a.jsx)("option",{value:"06",children:"Июнь"},"06"),(0,a.jsx)("option",{value:"07",children:"Июль"},"07"),(0,a.jsx)("option",{value:"08",children:"Август"},"08"),(0,a.jsx)("option",{value:"09",children:"Сентябрь"},"09"),(0,a.jsx)("option",{value:"10",children:"Октябрь"},"10"),(0,a.jsx)("option",{value:"11",children:"Ноябрь"},"11"),(0,a.jsx)("option",{value:"12",children:"Декабрь"},"12")];function S(e){let{start:t,onStartDateChange:s,end:n,onEndDateChange:l}=e,i=t.split("-"),c=n.split("-");return(0,a.jsxs)(r,{title:"Информация о планах проведения закупки",children:[(0,a.jsx)("input",{name:"date_start",type:"hidden",value:t}),(0,a.jsx)("input",{name:"date_end",type:"hidden",value:n}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary",children:"Планируемая дата или период размещения извещения о закупке"}),(0,a.jsxs)("div",{className:"md:flex md:flex-wrap",children:[(0,a.jsx)("div",{className:"md:mr-5",children:(0,a.jsx)("select",{className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[120px]",value:2==i.length?i[0]:"",onChange:e=>{let t=e.target.value;s(t+"-"+i[1])},children:F})}),(0,a.jsx)("div",{className:"md:mr-5",children:(0,a.jsx)("select",{className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[120px]",value:2==i.length?i[1]:"",onChange:e=>{let t=e.target.value;s(i[0]+"-"+t)},children:C})}),(0,a.jsx)("div",{className:"md:mr-5",children:(0,a.jsx)("span",{className:"text-secondary align-middle inline-block",children:"/"})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"date",className:"rounded-md text-primary bg-primary border-dark text-sm",value:3===i.length?t:"",onChange:e=>{s(e.target.value)},style:{colorScheme:"dark"}})})]}),(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary mt-5",children:"Срок исполнения договора"}),(0,a.jsxs)("div",{className:"md:flex md:flex-wrap",children:[(0,a.jsx)("div",{className:"md:mr-5",children:(0,a.jsx)("select",{className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[120px]",value:c[0],onChange:e=>{let t=e.target.value;l(t+"-"+c[1])},children:F})}),(0,a.jsx)("div",{children:(0,a.jsx)("select",{className:"rounded-md text-primary bg-primary border-dark text-sm md:min-w-[120px]",value:c[1],onChange:e=>{let t=e.target.value;l(c[0]+"-"+t)},children:C})})]})]})]})}var H=s(7728),P=s.n(H);let V=["flex-none","w-11 h-6","rounded-full","bg-gray","peer","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:text-gray","after:place-content-center","after:rounded-full","after:h-5","after:w-5","after:text-center","after:leading-5","after:content-['close']","after:transition-all","peer-checked:bg-green","peer-checked:after:text-green","peer-checked:after:content-['done']","peer-checked:after:translate-x-full",P().className];function E(e){let{name:t,text:s,onChange:n}=e;return(0,a.jsxs)("label",{className:"relative inline-flex cursor-pointer mt-5",children:[(0,a.jsx)("input",{type:"checkbox",name:t,className:"sr-only peer",onChange:n}),(0,a.jsx)("div",{className:V.join(" ")}),(0,a.jsx)("span",{className:"ml-3 text-sm text-secondary",children:s})]})}function W(){let[e,t]=(0,n.useState)(!1);return(0,a.jsxs)(r,{title:"Способ проведения закупки",children:[(0,a.jsx)("label",{className:"block",children:(0,a.jsx)("span",{className:"block mt-2 text-sm text-secondary",children:"Способ закупки"})}),(0,a.jsx)("div",{className:"-mt-2",children:(0,a.jsx)(E,{name:"",text:"purchase_from_single_supplier",onChange:e=>t(e.target.checked)})}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"block",children:(0,a.jsx)("span",{className:"block mt-2 text-sm text-secondary",children:"Основание для проведения закупки у единственного поставщика (исполнителя, подрядчика)"})}),(0,a.jsx)("select",{name:"purchase_method_single_provider_basis",className:"rounded-md text-primary bg-primary border-none text-sm w-full mt-2",children:(0,a.jsx)("option",{children:"Выбрать в соответствии с Положением о закупке товаров (работ, услуг)"})})]})]})}function Z(e){let{namePrefix:t,yearlyPays:s,currency:n,exchangeRate:r,onValueChange:l}=e,i=!1,c=0,d=0,o=s.map((e,s)=>(void 0!==e.value&&(i=!0,c+=e.value,d+=void 0===r?0:r*e.value),(0,a.jsxs)("tr",{className:"bg-tableRow",children:[(0,a.jsx)("td",{className:"text-center",children:e.year}),(0,a.jsx)("td",{children:(0,a.jsx)(m,{name:t+"input",className:"text-right",value:e.value,onChange:e=>{l(e,s)}})}),"rub"!==n&&(0,a.jsx)("td",{children:(0,a.jsx)(m,{name:t+"input_rub",value:void 0!==r&&void 0!==e.value?r*e.value:void 0,className:"text-right",disabled:!0})})]},e.year)));return(0,a.jsxs)("table",{className:"w-full table-auto text-sm",cellPadding:5,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"bg-slate rounded-tl-md py-2 pl-3 font-normal w-1/6",children:"Год"}),(0,a.jsx)("th",{className:"bg-slate font-normal "+("rub"===n?"w-5/6 rounded-tr-md":"w-2/6"),children:"Сумма"}),"rub"!==n&&(0,a.jsx)("th",{className:"bg-slate rounded-tr-md font-normal w-2/6",children:"Сумма в рублевом эквиваленте"})]})}),(0,a.jsxs)("tbody",{children:[o,(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"bg-tableRow text-center rounded-bl-md",children:"Всего"}),(0,a.jsx)("td",{className:"bg-tableRow "+("rub"===n?"rounded-br-md":""),children:(0,a.jsx)(m,{className:"text-right",value:i?c:void 0,disabled:!0})}),"rub"!==n&&(0,a.jsx)("td",{className:"bg-tableRow rounded-br-md",children:(0,a.jsx)(m,{className:"text-right",value:i?d:void 0,disabled:!0})})]})]})]})}function D(e){let{startYear:t,endYear:s,paymentBreakdown:l}=e,[i,c]=(0,n.useState)(l.payments),[d,o]=(0,n.useState)(l.currency),[m,x]=(0,n.useState)(l.exchange_rate);return(0,n.useEffect)(()=>{c(e=>{let a={};e.forEach(e=>{e.value&&(a[e.year]=e.value)});let n=[];if(t>0&&s>0)for(let e=t;e<=s;e++)n.push({year:e,value:a[e]});return n})},[t,s]),(0,a.jsxs)(r,{title:"Информация об объемах оплаты долгосрочного договора",children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary mt-5",children:"Планируемые платежи"}),(0,a.jsx)(Z,{namePrefix:"payment_amount_long_term_",yearlyPays:i,currency:d,exchangeRate:m,onValueChange:(e,t)=>{let s=[...i];s[t]={...s[t],value:e},c(s)}}),(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)(p,{value:d,onChange:o})}),"rub"!==d&&(0,a.jsxs)("div",{className:"mt-2 md:flex",children:[(0,a.jsx)("div",{children:(0,a.jsx)(g,{})}),(0,a.jsx)("div",{className:"md:ml-5",children:(0,a.jsx)(f,{onChange:x})})]})]})}function O(e){let{startYear:t,endYear:s,paymentBreakdown:l}=e,[i,c]=(0,n.useState)(l.payments),[d,o]=(0,n.useState)(l.currency),[m,x]=(0,n.useState)(l.exchange_rate);return(0,n.useEffect)(()=>{c(e=>{let a={};e.forEach(e=>{e.value&&(a[e.year]=e.value)});let n=[];if(t>0&&s>0)for(let e=t;e<=s;e++)n.push({year:e,value:a[e]});return n})},[t,s]),(0,a.jsxs)(r,{title:"Информация об объемах привлечения субъектов малого и среднего предпринимательства",children:[(0,a.jsx)("span",{className:"block mb-1 text-sm text-secondary mt-5",children:"Планируемые платежи"}),(0,a.jsx)(Z,{namePrefix:"business_volume_",yearlyPays:i,currency:d,exchangeRate:m,onValueChange:(e,t)=>{let s=[...i];s[t].value=e,c(s)}}),(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)(p,{value:d,onChange:o})}),"rub"!==d&&(0,a.jsxs)("div",{className:"mt-2 md:flex",children:[(0,a.jsx)("div",{children:(0,a.jsx)(g,{})}),(0,a.jsx)("div",{className:"md:ml-5",children:(0,a.jsx)(f,{onChange:x})})]})]})}let R=i()(()=>s.e(811).then(s.bind(s,5811)),{loadableGenerated:{webpack:()=>[5811]},ssr:!1});function I(e){let{index:t,onCountChange:s,onDeleteClick:n}=e,r={clearIndicator:()=>"",container:()=>"w-full",control:()=>"border-dark bg-primary min-h-0 rounded-md",dropdownIndicator:()=>"min-h-0 py-0",group:()=>"",groupHeading:()=>"",indicatorsContainer:()=>"",indicatorSeparator:()=>"hidden",input:()=>"text-primary",loadingIndicator:()=>"",loadingMessage:()=>"",menu:()=>"bg-primary",menuList:()=>"",menuPortal:()=>"",multiValue:()=>"",multiValueLabel:()=>"",multiValueRemove:()=>"",noOptionsMessage:()=>"hidden",option:()=>"bg-primary hover:bg-stale text-sm cursor-pointer",placeholder:()=>"",singleValue:()=>"text-primary",valueContainer:()=>"text-sm py-1"},l=[{value:"000P200000",label:'000P200000  Федеральный проект "Содействие занятости"'},{value:"000N400000",label:'000N400000  Федеральный проект "Развитие детского здравоохранения, включая создание современной инфраструктуры оказания медицинской помощи детям"'},{value:"000P300000",label:'000P300000  Федеральный проект "Старшее поколение"'},{value:"000N400000",label:'000N400000  Федеральный проект "Развитие детского здравоохранения, включая создание современной инфраструктуры оказания медицинской помощи детям"'}],i=e=>fetch("http://10.8.0.1:8001/okpd2/"+e).catch(e=>console.log(e)).then(e=>(console.log(e),l));return(0,a.jsxs)("tr",{className:"bg-tableRow",children:[(0,a.jsx)("td",{className:"text-center pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("td",{className:"text-center",children:t+1}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"text",name:"purchase_item_name",className:"rounded-md text-primary bg-primary border-none text-sm w-full"})}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"number",name:"purchase_item_count",className:"rounded-md text-primary bg-primary border-none text-sm text-center w-full",style:{colorScheme:"dark"},onChange:s})}),(0,a.jsx)("td",{children:(0,a.jsx)("select",{name:"purchase_item_count_type",className:"rounded-md text-primary bg-primary border-none text-sm w-full",children:(0,a.jsx)("option",{children:"Штука"})})}),(0,a.jsx)("td",{children:(0,a.jsx)("select",{name:"purchase_item_type",className:"rounded-md text-primary bg-primary border-none text-sm w-full",children:(0,a.jsx)("option",{children:"Товар"})})}),(0,a.jsx)("td",{children:(0,a.jsx)(R,{children:(0,a.jsx)(c.Z,{name:"purchase_item_okpd2",classNames:r,loadOptions:i})})}),(0,a.jsx)("td",{children:(0,a.jsx)(R,{children:(0,a.jsx)(c.Z,{name:"purchase_item_okved2",classNames:r,loadOptions:i})})}),(0,a.jsx)("td",{className:"pr-3",children:(0,a.jsx)(d.Z,{className:"h-3 w-3",onClick:e=>n(t)})})]})}var L=s(5781),z=s(5057);function Y(){let[e,t]=(0,n.useState)([B()]),[s,r]=(0,n.useState)(0);function l(){t([...e,B()])}return(0,a.jsxs)("table",{className:"w-full table-auto mt-5 text-sm",cellPadding:5,children:[(0,a.jsxs)("thead",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"bg-tableHeader rounded-tl-md py-2 pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("th",{className:"bg-tableHeader font-normal text-left",children:(0,a.jsx)("span",{className:"py-1 px-1 cursor-pointer",onClick:l,children:"+"})}),(0,a.jsx)("th",{className:"bg-tableHeader font-normal text-left",colSpan:5,children:(0,a.jsx)(L.Z,{className:"w-3 h-3"})}),(0,a.jsxs)("th",{className:"bg-tableHeader font-normal text-tertiary text-xs",children:["Позиций",(0,a.jsx)("br",{}),e.length]}),(0,a.jsxs)("th",{className:"bg-tableHeader font-normal text-tertiary text-xs rounded-tr-md",colSpan:2,children:["Количество (объем)",(0,a.jsx)("br",{}),s]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-fit"}),(0,a.jsx)("th",{className:"w-fit font-normal text-xs",children:"№"}),(0,a.jsx)("th",{className:"w-4/12 font-normal",children:"Наименование"}),(0,a.jsx)("th",{className:"w-fit",children:(0,a.jsx)(z.Z,{className:"w-3 h-3"})}),(0,a.jsx)("th",{className:"w-1/12 font-normal",children:"Количество (объем)"}),(0,a.jsx)("th",{className:"w-1/12 font-normal",children:"Единица измерения"}),(0,a.jsx)("th",{className:"w-1/12 font-normal",children:"Тип объекта закупки"}),(0,a.jsx)("th",{className:"w-2/12 font-normal",children:"ОКПД2"}),(0,a.jsx)("th",{className:"w-2/12 font-normal",children:"ОКВЭД2"}),(0,a.jsx)("th",{className:"w-fit"})]})]}),(0,a.jsx)("tbody",{children:e.map((s,n)=>(0,a.jsx)(I,{index:n,onCountChange:()=>r(A()),onDeleteClick:()=>{t(e.filter(e=>e!==s)),r(A())}},s))}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"bg-tableHeader rounded-bl-md py-2 pl-3",children:(0,a.jsx)("input",{type:"checkbox",className:"w-3 h-3 border-white rounded-sm bg-primary"})}),(0,a.jsx)("th",{className:"bg-tableHeader font-normal text-left",colSpan:6,children:(0,a.jsxs)("button",{type:"button",className:"bg-grayish hover:bg-slate px-3 py-1 rounded-full leading-none",onClick:l,children:["+ ",(0,a.jsx)("span",{className:"text-xs",children:"Добавить позицию"})]})}),(0,a.jsxs)("th",{className:"bg-tableHeader font-normal text-tertiary text-xs",children:["Позиций",(0,a.jsx)("br",{}),e.length]}),(0,a.jsxs)("th",{className:"bg-tableHeader font-normal text-tertiary text-xs rounded-tr-md",colSpan:2,children:["Количество (объем)",(0,a.jsx)("br",{}),s]})]})})]})}function A(){let e=document.getElementsByName("purchase_item_count"),t=0;for(let s=0;s<e.length;s++){let a=e[s].value;null!==a&&""!==a&&(t+=Number(a))}return t}function B(){return Date.now()}function M(){return(0,a.jsxs)(r,{title:"Информация о закупаемых товарах, работах, услугах",children:[(0,a.jsx)("label",{className:"block",children:(0,a.jsx)("span",{className:"block mt-2 text-sm text-secondary",children:"Способ указания региона поставки"})}),(0,a.jsxs)("div",{className:"inline-flex",children:[(0,a.jsx)("div",{children:(0,a.jsx)(E,{name:"single_purchase_for_all_items",text:"Единое для всех товаров, работ, услуг"})}),(0,a.jsx)("div",{className:"md:ml-5",children:(0,a.jsx)(E,{name:"separate_for_each_item",text:"Отдельное для каждого товара, работы, услуги"})})]}),(0,a.jsx)(Y,{})]})}function T(){let[e,t]=(0,n.useState)(!1);return(0,a.jsxs)(r,{title:"Информация о закупке",children:[(0,a.jsx)("div",{children:(0,a.jsx)(E,{name:"purchase_from_small_or_medium_business",text:"Закупка, участниками которой являются только субъекты малого и среднего предпринимательства"})}),(0,a.jsx)("div",{children:(0,a.jsx)(E,{name:"purchase_on_third_year_or_later",text:"Закупка запланирована на третий или последующие годы реализации плана закупки"})}),(0,a.jsx)("div",{children:(0,a.jsx)(E,{name:"purchase_items_innovation_related",text:"Закупка товаров, работ, услуг, удовлетворяющих критериям отнесения к инновационной продукции, высокотехнологичной продукции"})}),(0,a.jsx)("div",{children:(0,a.jsx)(E,{name:"purchase_is_excluded_annual_volume",text:"Закупка исключается при расчете годового объема закупок, участниками которых являются субъекты малого и среднего предпринимательства",onChange:e=>t(e.target.checked)})}),e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block",children:(0,a.jsx)("span",{className:"block mt-2 text-sm text-secondary",children:"Категория закупки в соответствии с пунктом 7 постановления Правительства РФ от 11.12.2014 № 1352"})}),(0,a.jsx)("select",{name:"info_category",className:"rounded-md text-primary bg-primary border-none text-sm w-full mt-2",children:(0,a.jsx)("option",{disabled:!0,children:"Выбрать категорию закупки"})})]})]})}var q=s(6853),G=s(5934);function X(e){e.preventDefault();let t=e.target,s=new FormData(t),a={uuid:(0,G.Z)(),data:Object.fromEntries(s)};console.log(a),fetch("http://www.itzakupki.ru:4320/v1/backend/test2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>{console.log("saved")})}let J=()=>{let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),l=Number(e.split("-")[0]),i=Number(s.split("-")[0]),[c,d]=(0,n.useState)({id:(0,G.Z)(),basic_info:{name:"",min_requirements:"",max_price_reason:"",nmcd:-1},dates:{start:"2023-02",end:"2023-02"},long_term_payments_breakdown:{payments:[{year:2020},{year:2021},{year:2022}],currency:"rub"},business_volume_breakdown:{payments:[{year:2020},{year:2021,value:200},{year:2022}],currency:"rub"}});return(0,a.jsxs)("div",{children:[(0,a.jsx)(w(),{children:(0,a.jsx)("title",{children:"Новая закупка - Виртуальный Офис"})}),(0,a.jsx)("div",{className:"flex p-5",children:(0,a.jsx)("div",{className:"flex-grow mr-5",children:(0,a.jsxs)("form",{method:"post",onSubmit:X,children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsxs)("button",{type:"submit",className:"rounded-full bg-green text-sm text-white pr-2 flex items-center",children:[(0,a.jsx)(q.Z,{className:"w-6 h-6"})," Направить в ПЗ подразделения"]})}),(0,a.jsx)(y,{basicInfo:c.basic_info}),(0,a.jsx)(b,{}),(0,a.jsx)(S,{start:e,onStartDateChange:t,end:s,onEndDateChange:r}),(0,a.jsxs)("div",{className:"md:flex md:flex-row mt-5",children:[(0,a.jsx)("div",{className:"md:basis-1/2",children:(0,a.jsx)(D,{startYear:l,endYear:i,paymentBreakdown:c.long_term_payments_breakdown})}),(0,a.jsx)("div",{className:"md:basis-1/2 md:ml-5",children:(0,a.jsx)(O,{startYear:l,endYear:i,paymentBreakdown:c.long_term_payments_breakdown})})]}),(0,a.jsx)(W,{}),(0,a.jsx)(T,{}),(0,a.jsx)(M,{}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("button",{type:"submit",className:"rounded-full bg-green text-sm text-white pr-2 flex items-center",children:[(0,a.jsx)(q.Z,{className:"w-6 h-6"})," Направить в ПЗ подразделения"]})})]})})})]})};J.getLayout=function(e){return(0,a.jsx)(v.Z,{children:e})};var U=J}},function(e){e.O(0,[61,333,51,774,888,179],function(){return e(e.s=6707)}),_N_E=e.O()}]);